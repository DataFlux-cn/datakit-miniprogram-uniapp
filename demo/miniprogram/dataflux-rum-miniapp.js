(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{datafluxRum:()=>dt});const n=6e4,r="datafluxRum:client:id",o="error",i="long_task",s="view",a="resource",u="app",c="action";var f="network",l="resource",d={tap:"tap",longpress:"longpress",longtap:"longtap"},p={data:1,onLoad:1,onShow:1,onReady:1,onPullDownRefresh:1,onReachBottom:1,onShareAppMessage:1,onPageScroll:1,onResize:1,onTabItemTap:1,onHide:1,onUnload:1},h=Array.prototype,m=Object.prototype,v=(m=Object.prototype).hasOwnProperty,_=h.slice,g=m.toString,y=h.forEach,E=function(e,t,n){if(null===e)return!1;if(y&&e.forEach===y)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,o=e.length;r<o;r++)if(r in e&&false===t.call(n,e[r],r,e))return!1}else for(var i in e)if(v.call(e,i)&&false===t.call(n,e[i],i,e))return!1},T=function(e){var t=[];return null===e||E(e,(function(e){t[t.length]=e})),t};function b(e){return"number"!=typeof e?e:+(1e6*e).toFixed(0)}var C=function(e){return"[object String]"===g.call(e)},S=function(e){return"[object Number]"===g.call(e)&&/[\d\.]+/.test(String(e))},A=function(e){return e?e.toArray?e.toArray():Array.isArray(e)?_.call(e):(t=e)&&v.call(t,"callee")?_.call(e):T(e):[];var t},O=function(){for(var e=A(arguments),t=1;t<e.length;t+=1)if(e[t-1]>e[t])return!1;return!0};function P(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,P)}function R(e,t,n){if(null==e)return JSON.stringify(e);var r=[!1,void 0];k(e)&&(r=[!0,e.toJSON],delete e.toJSON);var o,i,s=[!1,void 0];"object"==typeof e&&k(o=Object.getPrototypeOf(e))&&(s=[!0,o.toJSON],delete o.toJSON);try{i=JSON.stringify(e,void 0,n)}catch(e){i="<error: unable to serialize object>"}finally{r[0]&&(e.toJSON=r[1]),s[0]&&(o.toJSON=s[1])}return i}function k(e){return"object"==typeof e&&null!==e&&e.hasOwnProperty("toJSON")}function w(e){var t=[];for(var n in e)"function"!=typeof e[n]||p[n]||t.push(n);return t}function D(e){return e?e.replace(/\/([^\/]*)\d([^\/]*)/g,"/?"):""}function I(e){return e?String(e).substr(0,1)+String(e).substr(1).replace(/\d*/g,"x"):e}var L=function(e){var t={},n=e.split("?")[1]||"";return n&&(t=getURLSearchParams("?"+n)),t};var U=function(e){return _.call(arguments,1).forEach((function(t){for(var n in t)void 0!==t[n]&&(e[n]=t[n])})),e},N=function(e){return _.call(arguments,1).forEach((function(t){for(var n in t)void 0!==t[n]&&(x(t[n])&&x(e[n])?U(e[n],t[n]):e[n]=t[n])})),e},x=function(e){return null!==e&&"[object Object]"===g.call(e)},M=Date.now||function(){return(new Date).getTime()};function V(){}function j(e,t){for(var n=t.split(".");n.length;){var r=n.shift();if(!(e&&r in e&&v.call(e,r)))return;e=e[r]}return e}function B(e){const t={};return Object.keys(e).forEach((n=>{var r;t[(r=n,r.replace(/[A-Z]/g,(function(e,t){return(0!==t?"_":"")+e.toLowerCase()})).replace(/-/g,"_"))]=q(e[n])})),t}function q(e){return Array.isArray(e)?e.map((e=>q(e))):"object"==typeof e&&null!==e?B(e):e}function z(e){if(!C(e))return e;return String(e).replace(/[\s=,"]/g,(function(e){return"\\"+e}))}var W=function(e){var t=function(e){this._fields={Username:4,Password:5,Port:7,Protocol:2,Host:6,Path:8,URL:0,QueryString:9,Fragment:10},this._values={},this._regex=null,this._regex=/^((\w+):\/\/)?((\w+):?(\w+)?@)?([^\/\?:]+):?(\d+)?(\/?[^\?#]+)?\??([^#]+)?#?(\w*)/,void 0!==e&&this._parse(e)};return t.prototype.setUrl=function(e){this._parse(e)},t.prototype._initValues=function(){for(var e in this._fields)this._values[e]=""},t.prototype.addQueryString=function(e){if("object"!=typeof e)return!1;var t=this._values.QueryString||"";for(var n in e)t=new RegExp(n+"[^&]+").test(t)?t.replace(new RegExp(n+"[^&]+"),n+"="+e[n]):"&"===t.slice(-1)?t+n+"="+e[n]:""===t?n+"="+e[n]:t+"&"+n+"="+e[n];this._values.QueryString=t},t.prototype.getParse=function(){return this._values},t.prototype.getUrl=function(){var e="";return e+=this._values.Origin,e+=this._values.Port?":"+this._values.Port:"",e+=this._values.Path,e+=this._values.QueryString?"?"+this._values.QueryString:""},t.prototype._parse=function(e){this._initValues();var t=this._regex.exec(e);if(!t)throw"DPURLParser::_parse -> Invalid URL";for(var n in this._fields)void 0!==t[this._fields[n]]&&(this._values[n]=t[this._fields[n]]);this._values.Hostname=this._values.Host.replace(/:\d+$/,""),this._values.Origin=this._values.Protocol+"://"+this._values.Hostname},new t(e)};const F=function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n},H=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},G={sdkVersion:"2.0.1",sdkName:"df_miniapp_rum_sdk"};class Q{constructor(){this.callbacks={}}notify(e,t){const n=this.callbacks[e];n&&n.forEach((e=>e(t)))}subscribe(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),{unsubscribe:()=>{this.callbacks[e]=this.callbacks[e].filter((e=>t!==e))}}}}var $={PERFORMANCE_ENTRY_COLLECTED:"PERFORMANCE_ENTRY_COLLECTED",AUTO_ACTION_CREATED:"AUTO_ACTION_CREATED",AUTO_ACTION_COMPLETED:"AUTO_ACTION_COMPLETED",AUTO_ACTION_DISCARDED:"AUTO_ACTION_DISCARDED",APP_HIDE:"APP_HIDE",APP_UPDATE:"APP_UPDATE",PAGE_SET_DATA_UPDATE:"PAGE_SET_DATA_UPDATE",PAGE_ALIAS_ACTION:"PAGE_ALIAS_ACTION",VIEW_CREATED:"VIEW_CREATED",VIEW_UPDATED:"VIEW_UPDATED",VIEW_ENDED:"VIEW_ENDED",REQUEST_STARTED:"REQUEST_STARTED",REQUEST_COMPLETED:"REQUEST_COMPLETED",RAW_RUM_EVENT_COLLECTED:"RAW_RUM_EVENT_COLLECTED",RUM_EVENT_COLLECTED:"RUM_EVENT_COLLECTED"},J={sampleRate:100,flushTimeout:3e4,maxErrorsByMinute:3e3,maxBatchSize:50,maxMessageSize:262144,batchBytesLimit:16384,datakitUrl:"",requestErrorResponseLengthLimit:32768,trackInteractions:!1};function Y(e,t){return function(e,t){const n=W(e).getParse(),r=W(t).getParse();return n.Origin===r.Origin}(e,t.datakitUrl)}var K="agent",Z="console",X="network",ee="source";function te(e){var t=e.name||"Error: "+e.message;return e.stack.forEach((function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"("+e.args.join(", ")+")":"",o=e.line?":"+e.line:"",i=e.line&&e.column?":"+e.column:"";t+="\n  at "+n+r+" @ "+e.url+o+i})),t}const ne=function(){var e=null,t="";try{wx&&"object"==typeof wx&&"function"==typeof wx.request&&(e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},wx),t="wx",wx=e)}catch(e){}return{sdk:e,tracker:t}}(),re=ne.sdk,oe=(ne.tracker,"?");function ie(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var se,ae=function(){var e,t,n,r,o=[];function i(e,t,n){var r;for(var i in o)if(ie(o,i))try{o[i](e,t,n)}catch(e){r=e}if(r)throw r}function s(e){const t="string"==typeof e?new Error(e):e;var n,r="",o="";if(n=ue(t),t&&t.message&&"[object String]"==={}.toString.call(t.message)){const e=t.message.split("\n");if(e.length>=3){const t=(o=e[2]).match(ce);t&&(r=t[1],o=t[2])}}o&&(n.message=o),r&&(n.name=r),i(n,!0,t)}function a({reason:e,promise:t}){const n="string"==typeof e?new Error(e):e;var r,o="",s="";if(r=ue(n),n&&n.message&&"[object String]"==={}.toString.call(n.message)){const e=n.message.split("\n");if(e.length>=3){const t=(s=e[2]).match(ce);t&&(o=t[1],s=t[2])}}s&&(r.message=s),o&&(r.name=o),i(r,!0,n)}function u(e){}return u.subscribe=function(u){!function(){if(e||!re.onError)return;re.onError(s),e=!0}(),function(){if(t||!re.onUnhandledRejection)return;re.onUnhandledRejection&&re.onUnhandledRejection(a),t=!0}(),function(){if(n||!re.onPageNotFound)return;re.onPageNotFound((e=>{const t=e.path.split("?")[0];i({message:JSON.stringify(e),type:"pagenotfound",name:t+"页面无法找到"},!0,{})})),n=!0}(),function(){if(r||!re.onMemoryWarning)return;re.onMemoryWarning((({level:e=-1})=>{let t="没有获取到告警级别信息";switch(e){case 5:t="TRIM_MEMORY_RUNNING_MODERATE";break;case 10:t="TRIM_MEMORY_RUNNING_LOW";break;case 15:t="TRIM_MEMORY_RUNNING_CRITICAL";break;default:return}i({message:t,type:"memorywarning",name:"内存不足告警"},!0,{})})),r=!0}(),o.push(u)},u.unsubscribe=function(e){for(var t=o.length-1;t>=0;t-=1)o[t]===e&&o.splice(t,1)},u.traceKitWindowOnError=s,u}(),ue=function(){var e=!1;function t(e){if(e.stack){for(var t,n,r,o,i=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,a=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,u=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,c=/\((\S*)(?::(\d+))(?::(\d+))\)/,f=e.stack.split("\n"),l=[],d=0,p=f.length;d<p;d+=1){if(i.exec(f[d])){var h=(r=i.exec(f[d]))[2]&&0===r[2].indexOf("native");t=r[2]&&0===r[2].indexOf("eval"),n=c.exec(r[2]),t&&n&&(r[2]=n[1],r[3]=n[2],r[4]=n[3]),o={args:h?[r[2]]:[],column:r[4]?+r[4]:void 0,func:r[1]||oe,line:r[3]?+r[3]:void 0,url:h?void 0:r[2]}}else if(a.exec(f[d]))o={args:[],column:(r=a.exec(f[d]))[4]?+r[4]:void 0,func:r[1]||oe,line:+r[3],url:r[2]};else{if(!s.exec(f[d]))continue;t=(r=s.exec(f[d]))[3]&&r[3].indexOf(" > eval")>-1,n=u.exec(r[3]),t&&n?(r[3]=n[1],r[4]=n[2],r[5]=void 0):0!==d||r[5]||void 0===e.columnNumber||(l[0].column=e.columnNumber+1),o={args:r[2]?r[2].split(","):[],column:r[5]?+r[5]:void 0,func:r[1]||oe,line:r[4]?+r[4]:void 0,url:r[3]}}!o.func&&o.line&&(o.func=oe),l.push(o)}if(l.length)return{stack:l,message:fe(e),name:e.name}}}function n(e,t,n,r){var o={url:t,line:n?+n:void 0};if(o.url&&o.line){e.incompvare=!1;var i=e.stack;if(i.length>0&&i[0].url===o.url){if(i[0].line===o.line)return!1;if(!i[0].line&&i[0].func===o.func)return i[0].line=o.line,i[0].context=o.context,!1}return i.unshift(o),e.partial=!0,!0}return e.incompvare=!0,!1}function r(e,t){for(var o,i,s=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,a=[],u={},c=!1,f=r.caller;f&&!c;f=f.caller)f!==ue&&f!==ae&&(i={args:[],column:void 0,func:oe,line:void 0,url:void 0},o=s.exec(f.toString()),f.name?i.func=f.name:o&&(i.func=o[1]),void 0===i.func&&(i.func=o?o.input.substring(0,o.input.indexOf("{")):void 0),u[f+""]?c=!0:u[f+""]=!0,a.push(i));t&&a.splice(0,t);var l={stack:a,message:e.message,name:e.name};return n(l,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),l}function o(n,o){var i,s=void 0===o?0:+o;try{if(i=function(e){var t=e.stacktrace;if(t){for(var n,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,o=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,i=t.split("\n"),s=[],a=0;a<i.length;a+=2){var u;r.exec(i[a])?u={args:[],column:void 0,func:(n=r.exec(i[a]))[3],line:+n[1],url:n[2]}:o.exec(i[a])&&(u={args:(n=o.exec(i[a]))[5]?n[5].split(","):[],column:+n[2],func:n[3]||n[4],line:+n[1],url:n[6]}),u&&(!u.func&&u.line&&(u.func=oe),u.context=[i[a+1]],s.push(u))}if(s.length)return{stack:s,message:fe(e),name:e.name}}}(n))return i}catch(t){e}try{if(i=t(n))return i}catch(t){e}try{if(i=function(e){var t=e.message.split("\n");if(!(t.length<4)){var n,r=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,o=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,i=/^\s*Line (\d+) of function script\s*$/i,s=[],a=window&&window.document&&window.document.getElementsByTagName("script"),u=[];for(var c in a)ie(a,c)&&!a[c].src&&u.push(a[c]);for(var f=2;f<t.length;f+=2){var l;r.exec(t[f])?l={args:[],column:void 0,func:(n=r.exec(t[f]))[3],line:+n[1],url:n[2]}:o.exec(t[f])?l={args:[],column:void 0,func:(n=o.exec(t[f]))[4],line:+n[1],url:n[3]}:i.exec(t[f])&&(n=i.exec(t[f]),l={url:window.location.href.replace(/#.*$/,""),args:[],column:void 0,func:"",line:+n[1]}),l&&(l.func||(l.func=oe),l.context=[t[f+1]],s.push(l))}if(s.length)return{stack:s,message:t[0],name:e.name}}}(n))return i}catch(t){e}try{if(i=r(n,s+1))return i}catch(t){e}return{message:fe(n),name:n.name,stack:[]}}return o.augmentStackTraceWithInitialElement=n,o.computeStackTraceFromStackProp=t,o.ofCaller=function(e){var t=1+(void 0===e?0:+e);try{throw new Error}catch(e){return ue(e,t+1)}},o}(),ce=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function fe(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}class le{constructor(){this.observers=[]}subscribe(e){this.observers.push(e)}notify(e){this.observers.forEach((function(t){t(e)}))}}var de,pe,he=[],me=[];function ve(){return se||(de=re.request,re.request=function(){var e=this,t={method:arguments[0].method||"GET",startTime:0,url:arguments[0].url,type:f,responseType:arguments[0].responseType||"text"};t.startTime=M();var n=arguments[0].success;arguments[0].success=function(){i(arguments[0]),n&&n.apply(e,arguments)};var r=arguments[0].fail;arguments[0].fail=function(){i(arguments[0]),r&&r.apply(e,arguments)};var o=!1,i=function(e){o||(o=!0,t.duration=M()-t.startTime,t.response=JSON.stringify(e.data),t.header=e.header||{},t.profile=e.profile,t.status=e.statusCode||e.status||0,me.forEach((function(e){e(t)})))};return he.forEach((function(e){e(t)})),de.apply(this,arguments)},se={beforeSend:function(e){he.push(e)},onRequestComplete:function(e){me.push(e)}}),se}var _e,ge,ye,Ee,Te=[],be=[];function Ce(){return pe||(_e=re.downloadFile,re.downloadFile=function(){var e=this,t={method:"GET",startTime:0,url:arguments[0].url,type:l,responseType:"file"};t.startTime=M();var n=arguments[0].success;arguments[0].success=function(){i(arguments[0]),n&&n.apply(e,arguments)};var r=arguments[0].fail;arguments[0].fail=function(){i(arguments[0]),r&&r.apply(e,arguments)};var o=!1,i=function(e){o||(o=!0,t.duration=M()-t.startTime,t.response=JSON.stringify({filePath:e.filePath,tempFilePath:e.tempFilePath}),t.header=e.header||{},t.profile=e.profile,t.status=e.statusCode||e.status||0,be.forEach((function(e){e(t)})))};return Te.forEach((function(e){e(t)})),_e.apply(this,arguments)},pe={beforeSend:function(e){Te.push(e)},onRequestComplete:function(e){be.push(e)}}),pe}function Se(e){return"string"==typeof e?e:e instanceof Error?te(ue(e)):JSON.stringify(e,void 0,2)}function Ae(e){ye=function(t,n,r){var o=function(e,t,n){return e&&(void 0!==e.message||t instanceof Error)?{message:e.message||"Empty message",stack:te(e),type:e.name}:{message:n+""+JSON.stringify(t),stack:"No stack, consider using an instance of Error",type:e&&e.name}}(t,r,"Uncaught");e.notify({message:o.message,stack:o.stack,type:o.type,source:ee,startTime:M()})},ae.subscribe(ye)}function Oe(e){if(!Ee){var t=new le;!function(e,t){function n(n,r){Y(r.url,e)||!function(e){return 0===e.status&&"opaque"!==e.responseType}(r)&&!function(e){return e.status>=500}(r)||t.notify({message:Re(n)+"error"+r.method+" "+r.url,resource:{method:r.method,statusCode:r.status,url:r.url},type:X,source:X,stack:Pe(r.response,e)||"Failed to load",startTime:r.startTime})}ve().onRequestComplete((function(e){return n(e.type,e)})),Ce().onRequestComplete((function(e){return n(e.type,e)}))}(e,t),function(e){ge=console.error,console.error=function(){ge.apply(console,arguments);var t=A(arguments),n=[];t.concat(["console error:"]).forEach((function(e){n.push(Se(e))})),e.notify({message:n.join(" "),source:Z,startTime:M()})}}(t),Ae(t),Ee=function(e,t){var r=0,o=new le;return t.subscribe((function(t){r<e.maxErrorsByMinute?(r+=1,o.notify(t)):r===e.maxErrorsByMinute&&(r+=1,o.notify({message:"Reached max number of errors by minute: "+e.maxErrorsByMinute,source:K,startTime:M()}))})),setInterval((function(){r=0}),n),o}(e,t)}return Ee}function Pe(e,t){return e&&e.length>t.requestErrorResponseLengthLimit?e.substring(0,t.requestErrorResponseLengthLimit)+"...":e}function Re(e){return f===e?"XHR":l}function ke(e,t){return function(e,t,n){n.subscribe((function(t){e.notify($.RAW_RUM_EVENT_COLLECTED,function(e){var t=e.resource;if(t){var n=W(e.resource.url).getParse();t={method:e.resource.method,status:e.resource.statusCode,statusGroup:I(e.resource.statusCode),url:e.resource.url,urlHost:n.Host,urlPath:n.Path,urlPathGroup:D(n.Path)}}return{rawRumEvent:{date:e.startTime,error:{message:e.message,resource:t,source:e.source,stack:e.stack,type:e.type,starttime:e.startTime},type:o},startTime:e.startTime}}(t))}))}(e,0,Oe(t))}const we=new class{constructor(){this.sessionId=P(),this.getDeviceInfo(),this.getNetWork()}getDeviceInfo(){try{const o=re.getSystemInfoSync();var e=o.system.split(" "),t=e.length>1&&e[1],n=t.split(".").length&&t.split(".")[0],r="";o.host&&(r=o.host.appId),this.deviceInfo={screenSize:`${o.screenWidth}*${o.screenHeight} `,platform:o.platform,platformVersion:o.version,osVersion:t,osVersionMajor:n,os:e.length>1&&e[0],brand:o.brand,model:o.model,frameworkVersion:o.SDKVersion,pixelRatio:o.pixelRatio,deviceUuid:r}}catch(e){}}getClientID(){var e=re.getStorageSync(r);return e||(e=P(),re.setStorageSync(r,e)),e}getNetWork(){re.getNetworkType({success:e=>{this.deviceInfo.network=e.networkType?e.networkType:"unknown"}}),re.onNetworkStatusChange((e=>{this.deviceInfo.network=e.networkType?e.networkType:"unknown"}))}getSessionId(){return this.sessionId}};function De(e){return 0!==(t=e.sampleRate)&&100*Math.random()<=t;var t}var Ie="user";function Le(e){var t,n,r=[],o=[];e.subscribe($.VIEW_CREATED,(function(e){t=e})),e.subscribe($.VIEW_UPDATED,(function(e){t&&t.id===e.id&&(t=e)})),e.subscribe($.VIEW_ENDED,(function(e){t&&(r.unshift({endTime:e.endClocks,context:a(),startTime:t.startTime}),t=void 0)})),e.subscribe($.AUTO_ACTION_CREATED,(function(e){n=e})),e.subscribe($.AUTO_ACTION_COMPLETED,(function(e){n&&o.unshift({context:s(),endTime:n.startClocks+e.duration,startTime:n.startClocks}),n=void 0})),e.subscribe($.AUTO_ACTION_DISCARDED,(function(){n=void 0})),e.subscribe($.SESSION_RENEWED,(function(){r=[],o=[],t=void 0,n=void 0}));var i=setInterval((function(){!function(e,t){var n=M()-t;for(;e.length>0&&e[e.length-1].startTime<n;)e.pop()}(r,144e5)}),6e4);function s(){return{userAction:{id:n.id}}}function a(){return{page:{id:t.id,referer:r.length&&r[r.length-1].context.page.route||void 0,route:t.route}}}function u(e,t,n,r){if(void 0===r)return n?e():void 0;if(n&&r>=n.startTime)return e();var o=void 0;return E(t,(function(e){return!(r>e.endTime)&&(r>=e.startTime?(o=e.context,!1):void 0)})),o}return{findView:function(e){return u(a,r,t,e)},findAction:function(e){return u(s,o,n,e)},stop:function(){clearInterval(i)}}}var Ue={sdk_name:"_dd.sdk_name",sdk_version:"_dd.sdk_version",app_id:"application.id",env:"_dd.env",version:"_dd.version",userid:"user.user_id",session_id:"session.id",session_type:"session.type",is_signin:"user.is_signin",device:"device.brand",model:"device.model",device_uuid:"device.device_uuid",os:"device.os",os_version:"device.os_version",os_version_major:"device.os_version_major",screen_size:"device.screen_size",network_type:"device.network_type",platform:"device.platform",platform_version:"device.platform_version",app_framework_version:"device.framework_version",view_id:"page.id",view_name:"page.route",view_referer:"page.referer"},Ne={view:{type:s,tags:{view_apdex_level:"page.apdex_level",is_active:"page.is_active"},fields:{page_fmp:"page.fmp",first_paint_time:"page.fpt",loading_time:"page.loading_time",onload_to_onshow:"page.onload2onshow",onshow_to_onready:"page.onshow2onready",time_spent:"page.time_spent",view_error_count:"page.error.count",view_resource_count:"page.error.count",view_long_task_count:"page.long_task.count",view_action_count:"page.action.count",view_setdata_count:"page.setdata.count"}},resource:{type:a,tags:{resource_type:"resource.type",resource_status:"resource.status",resource_status_group:"resource.status_group",resource_method:"resource.method",resource_url:"resource.url",resource_url_host:"resource.url_host",resource_url_path:"resource.url_path",resource_url_path_group:"resource.url_path_group",resource_url_query:"resource.url_query"},fields:{resource_size:"resource.size",resource_load:"resource.load",resource_dns:"resource.dns",resource_tcp:"resource.tcp",resource_ssl:"resource.ssl",resource_ttfb:"resource.ttfb",resource_trans:"resource.trans",resource_first_byte:"resource.firstbyte",duration:"resource.duration"}},error:{type:o,tags:{error_source:"error.source",error_type:"error.type",resource_url:"error.resource.url",resource_url_host:"error.resource.url_host",resource_url_path:"error.resource.url_path",resource_url_path_group:"error.resource.url_path_group",resource_status:"error.resource.status",resource_status_group:"error.resource.status_group",resource_method:"error.resource.method"},fields:{error_message:["string","error.message"],error_stack:["string","error.stack"]}},long_task:{type:i,tags:{},fields:{duration:"long_task.duration"}},action:{type:c,tags:{action_id:"action.id",action_name:"action.target.name",action_type:"action.type"},fields:{duration:"action.loading_time",action_error_count:"action.error.count",action_resource_count:"action.resource.count",action_long_task_count:"action.long_task.count"}},app:{alias_key:"action",type:u,tags:{action_id:"app.id",action_name:"app.name",action_type:"app.type"},fields:{duration:"app.duration"}}},xe=/[^\u0000-\u007F]/;var Me=function(e,t){this.endpointUrl=e,this.bytesLimit=t};Me.prototype={send:function(e){var t=function(e){return e?e+(-1===e.indexOf("?")?"?":"&")+"precision=ms":e}(this.endpointUrl);re.request({method:"POST",header:{"content-type":"text/plain;charset=UTF-8"},url:t,data:e})}};var Ve=Me;function je(e,t,n,r,o,i){this.request=e,this.maxSize=t,this.bytesLimit=n,this.maxMessageSize=r,this.flushTimeout=o,this.lifeCycle=i,this.flushOnVisibilityHidden(),this.flushPeriodically()}je.prototype={pushOnlyBuffer:[],upsertBuffer:{},bufferBytesSize:0,bufferMessageCount:0,add:function(e){this.addOrUpdate(e)},upsert:function(e,t){this.addOrUpdate(e,t)},flush:function(){if(0!==this.bufferMessageCount){var e=this.pushOnlyBuffer.concat(T(this.upsertBuffer));this.request.send(e.join("\n"),this.bufferBytesSize),this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0}},processSendData:function(e){if(!e||!e.type)return"";var t="",n=!1;return E(Ne,(function(r,o){if(r.type===e.type){r.alias_key?t+=r.alias_key+",":t+=o+",";var i=[],s=U({},Ue,r.tags);E(s,(function(t,n){var r=j(e,t);(r||S(r))&&i.push(z(n)+"="+z(r))})),e.tags.length&&E(e.tags,(function(e,t){(e||S(e))&&i.push(z(t)+"="+z(e))}));var a=[];E(r.fields,(function(t,n){if(Array.isArray(t)&&2===t.length){var r=t[0],o=t[1];((i=j(e,o))||S(i))&&(i="string"===r?'"'+String(i).replace(/[\\]*"/g,'"').replace(/"/g,'\\"')+'"':z(i),a.push(z(n)+"="+i))}else if(C(t)){var i;((i=j(e,t))||S(i))&&(i=z(i),a.push(z(n)+"="+i))}})),i.length&&(t+=i.join(",")),a.length&&(t+=" ",t+=a.join(","),n=!0),t=t+" "+e.date}})),n?t:""},sizeInBytes:function(e){if(!xe.test(e))return e.length;for(var t,n=0,r=0,o=e.length;r<o;r++)n+=(t=e.charCodeAt(r))<=127?1:t<=2047?2:t<=65535?3:4;return n},addOrUpdate:function(e,t){var n=this.process(e);n.processedMessage&&""!==n.processedMessage&&(n.messageBytesSize>=this.maxMessageSize||(this.hasMessageFor(t)&&this.remove(t),this.willReachedBytesLimitWith(n.messageBytesSize)&&this.flush(),this.push(n.processedMessage,n.messageBytesSize,t),this.isFull()&&this.flush()))},process:function(e){var t=this.processSendData(e);return{processedMessage:t,messageBytesSize:this.sizeInBytes(t)}},push:function(e,t,n){this.bufferMessageCount>0&&(this.bufferBytesSize+=1),void 0!==n?this.upsertBuffer[n]=e:this.pushOnlyBuffer.push(e),this.bufferBytesSize+=t,this.bufferMessageCount+=1},remove:function(e){var t=this.upsertBuffer[e];delete this.upsertBuffer[e];var n=this.sizeInBytes(t);this.bufferBytesSize-=n,this.bufferMessageCount-=1,this.bufferMessageCount>0&&(this.bufferBytesSize-=1)},hasMessageFor:function(e){return void 0!==e&&void 0!==this.upsertBuffer[e]},willReachedBytesLimitWith:function(e){return this.bufferBytesSize+e+1>=this.bytesLimit},isFull:function(){return this.bufferMessageCount===this.maxSize||this.bufferBytesSize>=this.bytesLimit},flushPeriodically:function(){var e=this;setTimeout((function(){e.flush(),e.flushPeriodically()}),e.flushTimeout)},flushOnVisibilityHidden:function(){var e=this;this.lifeCycle.subscribe($.APP_HIDE,(function(){e.flush()}))}};var Be=je;function qe(e,t){var n=function(e,t){var n=r(e.datakitUrl,t);function r(t,n){return new Be(new Ve(t,e.batchBytesLimit),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout,n)}var o=!1;return{add:function(e){o||n.add(e)},stop:function(){o=!0},upsert:function(e,t){o||n.upsert(e,t)}}}(e,t);return t.subscribe($.RUM_EVENT_COLLECTED,(function(e){e.type===s?n.upsert(e,e.page.id):n.add(e)})),{stop:function(){n.stop()}}}function ze(e,t){void 0===t&&(t=V);var n={errorCount:0,resourceCount:0,longTaskCount:0,userActionCount:0},r=e.subscribe($.RAW_RUM_EVENT_COLLECTED,(function(e){switch(e.rawRumEvent.type){case o:n.errorCount+=1,t(n);break;case a:n.resourceCount+=1,t(n);break;case c:n.userActionCount+=1,t(n)}}));return{stop:function(){r.unsubscribe()},eventCounts:n}}function We(e,t,n){void 0===n&&(n=M());var r,o,i,s,a,u,c,f=P(),l=!0,d={errorCount:0,resourceCount:0,userActionCount:0},p=0,h=0,m=0,v=0;e.notify($.VIEW_CREATED,{id:f,startTime:n,route:t});var _=function(e,t,n){var r,o,i,s,a=0;n||(n={});var u=function(){a=!1===n.leading?0:(new Date).getTime(),r=null,s=e.apply(o,i),r||(o=i=null)},c=function(){i=arguments;var c=(new Date).getTime();a||!1!==n.leading||(a=c);var f=t-(c-a);return o=this,f<=0||f>t?(r&&(clearTimeout(r),r=null),a=c,s=e.apply(o,i),r||(o=i=null)):r||!1===n.trailing||(r=setTimeout(u,f)),s};return c.cancel=function(){clearTimeout(r),a=0,r=null},c}(C,3e3,{leading:!1}),g=_.cancel,y=ze(e,(function(e){d=e,_()})).stop,E=function(e,t){return{stop:e.subscribe($.PERFORMANCE_ENTRY_COLLECTED,(function(e){const n=e.find((e=>"render"===e.entryType&&"firstRender"===e.name));void 0!==n&&t(n.duration)})).unsubscribe}}(e,(function(e){u=e,_()})).stop,T=function(e,t){return{stop:e.subscribe($.PAGE_SET_DATA_UPDATE,(function(e){e&&t(e.updateEndTimestamp-e.pendingStartTimestamp)})).unsubscribe}}(e,(function(e){S(e)&&(m+=e,p++,_())})).stop,b=function(e,t){return{stop:e.subscribe($.PERFORMANCE_ENTRY_COLLECTED,(function(e){const n=e.find((e=>"navigation"===e.entryType));void 0!==n&&t(n.duration)})).unsubscribe}}(e,(function(e){S(e)&&(v=e,_())})).stop;function C(){h+=1,e.notify($.VIEW_UPDATED,{documentVersion:h,eventCounts:d,id:f,loadingTime:v,stayTime:a,onload2onshowTime:i,onshow2onready:s,setdataDuration:m,setdataCount:p,fmp:c,fpt:u,startTime:n,route:t,duration:M()-n,isActive:l})}return{scheduleUpdate:_,setLoadEventEnd:function(e){"onLoad"===e?r=M():"onShow"===e?(o=M(),void 0===i&&void 0!==r&&(i=o-r)):"onReady"===e?(void 0===s&&void 0!==o&&(s=M()-o),void 0===c&&(c=M()-n)):"onHide"!==e&&"onUnload"!==e||(void 0!==o&&(a=M()-o),l=!1),C()},triggerUpdate:function(){g(),C()},end:function(){y(),E(),g(),T(),b(),e.notify($.VIEW_ENDED,{endClocks:M()})}}}function Fe(){const e=getCurrentPages();return e.length?e[e.length-1]:{}}function He(e,t){return e.subscribe($.VIEW_UPDATED,(function(t){e.notify($.RAW_RUM_EVENT_COLLECTED,function(e){var t;e.fmp&&(t=(t=parseInt(Number(e.fmp)/1e3))>9?9:t);return{rawRumEvent:{_dd:{documentVersion:e.documentVersion},date:e.startTime,type:s,page:{action:{count:e.eventCounts.userActionCount},error:{count:e.eventCounts.errorCount},setdata:{count:e.setdataCount},setdata_duration:b(e.setdataDuration),loadingTime:b(e.loadingTime),stayTime:b(e.stayTime),onload2onshow:b(e.onload2onshowTime),onshow2onready:b(e.onshow2onready),fpt:b(e.fpt),fmp:b(e.fmp),isActive:e.isActive,apdexLevel:t,resource:{count:e.eventCounts.resourceCount},timeSpent:b(e.duration)}},startTime:e.startTime}}(t))})),function(e,t){const n=Page;Page=function(e){var r,o=M();return["onReady","onShow","onLoad","onUnload","onHide"].forEach((n=>{const i=e[n];e[n]=function(){if(("onShow"===n||"onLoad"===n)&&void 0===r){const e=Fe();r=We(t,e&&e.route,o)}return r&&r.setLoadEventEnd(n),"onUnload"!==n&&"onHide"!==n&&"onShow"!==n||!r||(r.triggerUpdate(),"onUnload"!==n&&"onHide"!==n||r.end()),i&&i.apply(this,arguments)}})),n(e)}}(0,e)}function Ge(){for(var e=A(arguments),t=1;t<e.length;t+=1)if(e[t-1]>e[t])return!1;return!0}function Qe(e){if(e.startTime<e.responseEnd)return b(e.responseEnd-e.startTime)}function $e(e){var t=function(e){if(!Ge(e.startTime,e.fetchStart,e.domainLookupStart,e.domainLookupEnd,e.connectStart,e.connectEnd,e.requestStart,e.responseStart,e.responseEnd))return;if(!Je(e))return e;var t=e.redirectStart,n=e.redirectEnd;t<e.startTime&&(t=e.startTime);n<e.startTime&&(n=e.fetchStart);if(!Ge(e.startTime,t,n,e.fetchStart))return;return U({},e,{redirectEnd:n,redirectStart:t})}(e);if(t){var n=t.startTime,r=t.fetchStart,o=t.redirectStart,i=t.redirectEnd,s=t.domainLookupStart||t.domainLookUpStart,a=t.domainLookupEnd||t.domainLookUpEnd,u=t.connectStart,c=t.SSLconnectionStart,f=t.SSLconnectionEnd,l=t.connectEnd,d=t.requestStart,p=t.responseStart,h=t.responseEnd,m={firstbyte:Ye(n,s,p),trans:Ye(n,p,h),ttfb:Ye(n,d,p)};return l!==r&&(m.tcp=Ye(n,u,l),Ge(u,c,f)&&(m.ssl=Ye(n,c,f))),a!==r&&(m.dns=Ye(n,s,a)),Je(e)&&(m.redirect=Ye(n,o,i)),m}}function Je(e){return e.fetchStart!==e.startTime}function Ye(e,t,n){return b(n-t)}function Ke(e){if(e.startTime<e.responseStart)return e.receivedBytedCount}function Ze(e,t){return t&&!Y(t,e)}var Xe=1;function et(e,t){!function(e,t){var n=ve();n.beforeSend((function(n){Ze(t,n.url)&&(n.requestIndex=tt(),e.notify($.REQUEST_STARTED,{requestIndex:n.requestIndex}))})),n.onRequestComplete((function(n){Ze(t,n.url)&&e.notify($.REQUEST_COMPLETED,{duration:n.duration,method:n.method,requestIndex:n.requestIndex,performance:n.profile,response:n.response,startTime:n.startTime,status:n.status,type:n.type,url:n.url})}))}(e,t),function(e,t){var n=Ce();n.beforeSend((function(n){Ze(t,n.url)&&(n.requestIndex=tt(),e.notify($.REQUEST_STARTED,{requestIndex:n.requestIndex}))})),n.onRequestComplete((function(n){Ze(t,n.url)&&e.notify($.REQUEST_COMPLETED,{duration:n.duration,method:n.method,requestIndex:n.requestIndex,performance:n.profile,response:n.response,startTime:n.startTime,status:n.status,type:n.type,url:n.url})}))}(e,t)}function tt(){var e=Xe;return Xe+=1,e}function nt(e,t){e.subscribe($.REQUEST_COMPLETED,(function(t){e.notify($.RAW_RUM_EVENT_COLLECTED,function(e){var t=e.type,n=e.performance,r=n?function(e){return{resource:N({},{load:Qe(e),size:Ke(e)},$e(e))}}(n):void 0,o=W(e.url).getParse(),i=e.startTime,s=N({date:i,resource:{type:t,duration:b(e.duration),method:e.method,status:e.status,statusGroup:I(e.status),url:e.url,urlHost:o.Host,urlPath:o.Path,urlPathGroup:D(o.Path),urlQuery:R(L(e.url))},type:a},r);return{startTime:i,rawRumEvent:s}}(t))}))}const rt="cold",ot="hot";function it(e,t){const n=App;var r={isStartUp:!1};App=function(e){return M(),["onLaunch","onShow","onHide"].forEach((n=>{const o=e[n];e[n]=function(e){return"onLaunch"===n?(r.isStartUp=!0,r.isHide=!1,r.startupType=rt):"onShow"===n?r.isStartUp&&r.isHide&&(r.startupType=ot):"onHide"===n&&(t.notify($.APP_HIDE),r.isHide=!0),o&&o.call(this,e)}})),n(e)},function(e){e.subscribe($.PERFORMANCE_ENTRY_COLLECTED,(function(t){var n;const r=t.find((e=>"navigation"===e.entryType&&"appLaunch"===e.navigationType));void 0!==r&&e.notify($.APP_UPDATE,{startTime:r.startTime,name:"启动",type:"launch",id:P(),duration:r.duration});const o=t.find((e=>"script"===e.entryType&&"evaluateScript"===e.name));void 0!==o&&e.notify($.APP_UPDATE,{startTime:o.startTime,name:"脚本注入",type:"script_insert",id:P(),duration:o.duration});const i=t.find((e=>"render"===e.entryType&&"firstRender"===e.name));if(i&&o&&r){if(!O(i.duration,r.duration)||!O(o.duration,r.duration))return;n=r.duration-i.duration-o.duration,e.notify($.APP_UPDATE,{startTime:r.startTime,name:"小程序包下载",type:"package_download",id:P(),duration:n})}})).unsubscribe}(t)}function st(e,t){return e.subscribe($.APP_UPDATE,(function(t){e.notify($.RAW_RUM_EVENT_COLLECTED,function(e){return{rawRumEvent:{date:e.startTime,type:u,app:{type:e.type,name:e.name,id:e.id,duration:b(e.duration)}},startTime:e.startTime}}(t))})),it(0,e)}function at(e,t){var n=function(e){var t,n=new le,r=[],o=0;function i(){n.notify({isBusy:o>0})}return r.push(e.subscribe($.PAGE_SET_DATA_UPDATE,(function(){i()})),e.subscribe($.PAGE_ALIAS_ACTION,(function(){i()}))),r.push(e.subscribe($.REQUEST_STARTED,(function(e){void 0===t&&(t=e.requestIndex),o+=1,i()}))),r.push(e.subscribe($.REQUEST_COMPLETED,(function(e){void 0===t||e.requestIndex<t||(o-=1,i())}))),{observable:n,stop:function(){E(r,(function(e){e.unsubscribe()}))}}}(e),r=n.observable,o=n.stop,i=function(e,t,n){var r,o=!1,i=setTimeout((function(){u({hadActivity:!1})}),100),s=setTimeout((function(){u({hadActivity:!0,endTime:M()})}),1e4);function a(){o=!0,clearTimeout(i),clearTimeout(r),clearTimeout(s),t()}function u(e){o||(a(),n(e))}return e.subscribe((function(e){var t=e.isBusy;clearTimeout(i),clearTimeout(r);var n=M();t||(r=setTimeout((function(){u({hadActivity:!0,endTime:n})}),100))})),{stop:a}}(r,o,t).stop;return{stop:function(){i(),o()}}}function ut(e){var t=function(e){var t,n;return{create:function(r,o){if(!t){var i=new ft(e,r,o);t=i,n=at(e,(function(e){e.hadActivity?i.complete(e.endTime):i.discard(),t=void 0}))}},discardCurrent:function(){t&&(n.stop(),t.discard(),t=void 0)}}}(e);e.subscribe($.VIEW_CREATED,(function(){t.discardCurrent()}));var n=Page;Page=function(r){return w(r).forEach((n=>{ct(r,n,(function(e){t.create(e.type,e.name)}),e)})),n(r)};var r=Component;return Component=function(e){return w(e).forEach((n=>{ct(e,n,(function(e){t.create(e.type,e.name)}))})),r(e)},{stop:function(){t.discardCurrent()}}}function ct(e,t,n,r){var o=e[t];e[t]=function(){const e=o.apply(this,arguments);var i={};if(x(arguments[0])){var s=arguments[0].currentTarget||{},a=s.dataset||{},u=arguments[0].type;if(u&&d[u])i.type=u,i.name=a.name||a.content||a.type,n(i);else if("onAddToFavorites"===t)i.type="click",i.name="收藏 标题: "+e.title+(e.query?" query: "+e.query:""),n(i),r.notify($.PAGE_ALIAS_ACTION,!0);else if("onShareAppMessage"===t)i.type="click",i.name="转发 标题: "+e.title+(e.path?" path: "+e.path:""),n(i),r.notify($.PAGE_ALIAS_ACTION,!0);else if("onShareTimeline"===t)i.type="click",i.name="分享到朋友圈 标题: "+e.title+(e.query?" query: "+e.query:""),n(i),r.notify($.PAGE_ALIAS_ACTION,!0);else if("onTabItemTap"===t){var c=arguments.length&&arguments[0];i.type="click",i.name="tab 名称: "+c.text+(c.pagePath?" 跳转到: "+c.pagePath:""),n(i),r.notify($.PAGE_ALIAS_ACTION,!0)}}return e}}var ft=function(e,t,n){this.id=P(),this.startClocks=M(),this.name=n,this.type=t,this.lifeCycle=e,this.eventCountsSubscription=ze(e),this.lifeCycle.notify($.AUTO_ACTION_CREATED,{id:this.id,startClocks:this.startClocks})};function lt(e,t){e.subscribe($.AUTO_ACTION_COMPLETED,(function(t){e.notify($.RAW_RUM_EVENT_COLLECTED,function(e){var t={action:{error:{count:e.counts.errorCount},id:e.id,loadingTime:b(e.duration),long_task:{count:e.counts.longTaskCount},resource:{count:e.counts.resourceCount}}};return{rawRumEvent:N({action:{target:{name:e.name},type:e.type},date:e.startClocks,type:c},t),startTime:e.startClocks}}(t))})),t.trackInteractions&&ut(e)}ft.prototype={complete:function(e){var t,n,r=this.eventCountsSubscription.eventCounts;this.lifeCycle.notify($.AUTO_ACTION_COMPLETED,{counts:{errorCount:r.errorCount,longTaskCount:r.longTaskCount,resourceCount:r.resourceCount},duration:(t=this.startClocks,n=e,n-t),id:this.id,name:this.name,startClocks:this.startClocks,type:this.type}),this.eventCountsSubscription.stop()},discard:function(){this.lifeCycle.notify($.AUTO_ACTION_DISCARDED),this.eventCountsSubscription.stop()}};const dt=(pt=function(e){const t=function(e,t){var n,r={applicationId:e.applicationId,env:e.env||"",version:e.version||"",sdkVersion:t.sdkVersion,sdkName:t.sdkName,datakitUrl:(n=e.datakitUrl||e.datakitOrigin,n&&n.lastIndexOf("/")===n.length-1?n+"v1/write/rum":n+"/v1/write/rum"),tags:e.tags||[]};return"trackInteractions"in e&&(r.trackInteractions=!!e.trackInteractions),N(J,r)}(e,G),n=new Q;var r=Le(n);qe(t,n),function(e,t,n,r){n.subscribe($.RAW_RUM_EVENT_COLLECTED,(function(o){var i=o.startTime,s=o.rawRumEvent,a=r.findView(i),c={device:we.deviceInfo};if(De(t)&&(a||s.type===u)){var f=r.findAction(i),l={_dd:{sdkName:t.sdkName,sdkVersion:t.sdkVersion,env:t.env,version:t.version},tags:t.tags,application:{id:e},device:{},date:(new Date).getTime(),session:{id:we.getSessionId(),type:Ie},user:{user_id:t.user_id||we.getClientID(),is_signin:t.user_id?"T":"F"}},d=B(N(l,c,a,f,s));n.notify($.RUM_EVENT_COLLECTED,d)}}))}(e.applicationId,t,n,r),st(n),nt(n),He(n),ke(n,t),et(n,t),function(e,t){re.getPerformance&&re.getPerformance().createObserver((t=>{e.notify($.PERFORMANCE_ENTRY_COLLECTED,t.getEntries())})).observe({entryTypes:["render","script","navigation"]})}(n),function(e){const t=Page,n=Component;Page=function(n){const r=n.onLoad;return n.onLoad=function(){return this.setUpdatePerformanceListener&&this.setUpdatePerformanceListener({withDataPaths:!0},(t=>{e.notify($.PAGE_SET_DATA_UPDATE,t)})),r.apply(this,arguments)},t(n)},Component=function(t){const r=t.attached;return t.attached=function(){return this.setUpdatePerformanceListener&&this.setUpdatePerformanceListener({withDataPaths:!0},(t=>{e.notify($.PAGE_SET_DATA_UPDATE,t)})),r.apply(this,arguments)},n(t)}}(n),lt(n,t)},ht=!1,{init:function(e){void 0===e&&(e={}),function(e){return!ht&&(!!e.applicationId&&(!!e.datakitOrigin&&!!(void 0===e.sampleRate||(t=e.sampleRate,S(t)&&t>=0&&t<=100))));var t}(e)&&(pt(e),ht=!0)}});var pt,ht;module.exports=t})();
//# sourceMappingURL=dataflux-rum-miniapp.js.map